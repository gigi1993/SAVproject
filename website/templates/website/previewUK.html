{% load staticfiles %}
<html>
    <head>
     <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>SAV project</title>
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="{% static 'css/website.css' %}">

        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">  
        <link rel="stylesheet" href="{% static 'ammap/ammap.css' %}" type="text/css">
        <script src="{% static 'ammap/ammap.js' %}" type="text/javascript"></script>
        <!-- map file should be included after ammap.js -->
        <script src="{% static 'ammap/maps/js/worldLow.js' %}" type="text/javascript"></script>
        <script src="{% static 'ammap/themes/light.js' %}" type="text/javascript"></script>

        <link rel="stylesheet" href="{% static 'css/style.css' %}" type="text/css">
        <script src="{% static 'amcharts/amcharts.js' %}" type="text/javascript"></script>
        <script src="{% static 'amcharts/pie.js' %}" type="text/javascript"></script>

        <script src="{% static 'amcharts/plugins/dataloader/dataloader.min.js' %}" type="text/javascript"></script>



        <script>
            var chart;
            var legend;
            

            AmCharts.ready(function () {
                    // PIE CHART
                    chart = new AmCharts.AmPieChart();
                    chart.dataLoader = {
                        url: "{% static 'csv/UKPreview.csv' %}",
                        format: "csv",
                        delimiter: ",",
                        useColumnNames: true,
                    };
                    chart.titleField = "state";
                    chart.valueField = "ASes";
                    chart.colorField = "color";

                    chart.labelsEnabled = false;
                    chart.addTitle("ASes in UK", size=10, bold=false)
                    chart.autoMargins = false;
                    chart.startEffect = "easeInSine";
                    chart.startDuration = 0.45;
                    

                    chart.outlineColor = "#ffffff";
                    chart.outlineAlpha = 0.8;
                    chart.outlineThickness = 1;

                    chart.depth3D = 10;
                    chart.angle = 15;
                    chart.innerRadius = "30%";
                    chart.pullOutRadius = 10;

                    chart.marginTop = 0;
                    chart.marginBottom = 5;
                    chart.marginLeft = 0;
                    chart.marginRight = 0;
                    // WRITE
                    chart.write("piediv");


            });
        </script>


        <script>
            var chart;
            var legend;
            

            AmCharts.ready(function () {
                    // PIE CHART
                    chart = new AmCharts.AmPieChart();
                    chart.dataLoader = {
                        url: "{% static 'csv/CountryCompare.csv' %}",
                        format: "csv",
                        delimiter: ",",
                        useColumnNames: true,
                    };
                    chart.titleField = "state";
                    chart.valueField = "ASes";
                    chart.colorField = "color";

                    chart.labelsEnabled = true;
                    chart.labelRadius= -15;
                    chart.labelText = "[[state]]";
                    chart.labelColor = "#FFFFFF";                    
                    chart.addTitle("ASes globally", size=10, bold=false)
                    chart.autoMargins = false;
                    chart.startEffect = "easeInSine";
                    chart.startDuration = 0.45;
                   
                    chart.outlineColor = "#ffffff";
                    chart.outlineAlpha = 0.8;
                    chart.outlineThickness = 2;
                   
                    chart.depth3D = 10;
                    chart.innerRadius = "30%";
                    chart.angle = 15;
                    chart.pullOutRadius = 10;

                    chart.marginTop = 0;
                    chart.marginBottom = 5;
                    chart.marginLeft = 0;
                    chart.marginRight = 0;
                    // WRITE
                    chart.write("chartdiv");


            });
        </script>



    </head>
    <body>

        <div>
            <div id="piediv" style="width: 50%; height: 100%; float: left;background-color:#f2f3f4; "></div>
            <div id="chartdiv" style="width: 50%; height: 100%;background-color:#f2f3f4;"></div>
        </div>
    </body>
</html>